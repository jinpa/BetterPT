---
description: BetterPT project context — goal, stack, conventions, constraints. Read before making changes.
alwaysApply: true
---

# BetterPT

**Goal:** One place to see all current workouts from multiple PTs: log in to MedBridge Go, use access codes (with labels), fetch workout data, produce a static site (GitHub Pages). Plan: [prd.md](prd.md).

**Stack:** Python 3 + venv (`.venv/`). `requests`, `python-dotenv`, `beautifulsoup4`. Cookie auth; no Playwright. Static HTML/CSS. Use `.venv/bin/python` or `source .venv/bin/activate` in Cursor’s terminal.

**Conventions:** Secrets in `.env` only (`MB_USER`, `MB_PASS`, `MB_TOKENS=name1:code1,name2:code2` or single `MB_TOKEN`/`MB_TOKEN_NAME`). Scripts under `scripts/`, run from repo root. Outputs: `scripts/out/` (workout JSON, HTML dumps), `dist/` (static site). Both gitignored. Slugs: lowercase, hyphens; `workout_<slug>.json` per program.

**Scripts:** `simple_scrape.py` — POC login + token, save HTML. `discover_api.py` — probe APIs, episode_with_video_urls. `export_workout.py` — login + token(s), write `workout*.json`. `build_site.py` — read `workout*.json`, write `dist/`.

**Constraints:** Read-only MedBridge use. Manual refresh only. v1: current workouts, no history/media. Credentials UI later.

**Quick run:** `source .venv/bin/activate` → `python scripts/export_workout.py` → `python scripts/build_site.py` → `open dist/index.html`. Deploy: push `dist/` to GitHub Pages.

**More detail (auth, API URLs, script notes):** [docs/PROJECT_NOTES.md](docs/PROJECT_NOTES.md) — read when needed, not loaded every time.
